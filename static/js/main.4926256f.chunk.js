(this["webpackJsonptest-app"]=this["webpackJsonptest-app"]||[]).push([[0],[,,,,,,,function(t,e,r){t.exports=r(15)},,,,,function(t,e,r){},function(t,e,r){t.exports=r.p+"static/media/logo.5d5d9eef.svg"},function(t,e,r){},function(t,e,r){"use strict";r.r(e);var i=r(0),a=r.n(i),s=r(2),n=r.n(s),l=(r(12),r(3)),o=r(4),c=r(6),h=r(5);r(13),r(14);function d(t){var e="grid tile"+t.value;return null==t.value||t.value<=64?a.a.createElement("div",{className:e},t.value):a.a.createElement("div",{className:"grid tilex"},t.value)}var u=function(t){Object(c.a)(r,t);var e=Object(h.a)(r);function r(t){var i;Object(l.a)(this,r),(i=e.call(this,t)).state={grids:Array(16).fill(null),score:0,history:Array(),historyScore:Array()};for(var a=Math.floor(16*Math.random()),s=Math.floor(16*Math.random());s==a;)s=Math.floor(16*Math.random());return i.state.grids[a]=2,i.state.grids[s]=2,i}return Object(o.a)(r,[{key:"restart",value:function(){for(var t=Array(16).fill(null),e=Math.floor(16*Math.random()),r=Math.floor(16*Math.random());r==e;)r=Math.floor(16*Math.random());t[e]=2,t[r]=2,this.setState({grids:t,score:0,history:Array(),historyScore:Array()})}},{key:"undo",value:function(){var t=this.state.history.slice(),e=this.state.historyScore.slice();if(t.length>0){var r=t.pop(),i=e.pop();this.setState({grids:r,score:i,history:t,historyScore:e})}}},{key:"renderGrid",value:function(t){return a.a.createElement(d,{value:this.state.grids[t]})}},{key:"indexCalc",value:function(t,e){return 4*t+e}},{key:"randomNullPostionGen",value:function(t){for(var e=new Array,r=0;r<4;r++)null==t[r]&&e.push(r),null==t[12+r]&&e.push(12+r);return null==t[4]&&e.push(4),null==t[7]&&e.push(7),null==t[8]&&e.push(8),null==t[11]&&e.push(11),1==e.length?null:e[Math.floor(Math.random()*e.length)]}},{key:"onUp",value:function(){for(var t=this.state.grids.slice(),e=this.state.score,r=0;r<4;r++)for(var i=0;i<4;i++)if(null!=t[this.indexCalc(i,r)])for(var a=i+1;a<4;a++)if(null!=t[this.indexCalc(a,r)]){t[this.indexCalc(i,r)]==t[this.indexCalc(a,r)]&&(t[this.indexCalc(i,r)]*=2,e+=t[this.indexCalc(i,r)],t[this.indexCalc(a,r)]=null);break}for(var s=0;s<4;s++)for(var n=0;n<4;n++)if(null==t[this.indexCalc(n,s)])for(var l=n+1;l<4;l++)if(null!=t[this.indexCalc(l,s)]){t[this.indexCalc(n,s)]=t[this.indexCalc(l,s)],t[this.indexCalc(l,s)]=null;break}var o=this.randomNullPostionGen(t);null==o?this.restart():t[o]=2;var c=this.state.history,h=this.state.historyScore;c.push(this.state.grids.slice()),h.push(e),this.setState({grids:t,score:e,history:c,historyScore:h})}},{key:"onDown",value:function(){for(var t=this.state.grids.slice(),e=this.state.score,r=3;r>=0;r--)for(var i=3;i>=0;i--)if(null!=t[this.indexCalc(i,r)])for(var a=i-1;a>=0;a--)if(null!=t[this.indexCalc(a,r)]){t[this.indexCalc(i,r)]==t[this.indexCalc(a,r)]&&(t[this.indexCalc(i,r)]*=2,e+=t[this.indexCalc(i,r)],t[this.indexCalc(a,r)]=null);break}for(var s=3;s>=0;s--)for(var n=3;n>=0;n--)if(null==t[this.indexCalc(n,s)])for(var l=n-1;l>=0;l--)if(null!=t[this.indexCalc(l,s)]){t[this.indexCalc(n,s)]=t[this.indexCalc(l,s)],t[this.indexCalc(l,s)]=null;break}var o=this.randomNullPostionGen(t);null==o?this.restart():t[o]=2;var c=this.state.history,h=this.state.historyScore;c.push(this.state.grids.slice()),h.push(e),this.setState({grids:t,score:e,history:c,historyScore:h})}},{key:"onLeft",value:function(){for(var t=this.state.grids.slice(),e=this.state.score,r=0;r<4;r++)for(var i=0;i<4;i++)if(null!=t[this.indexCalc(r,i)])for(var a=i+1;a<4;a++)if(null!=t[this.indexCalc(r,a)]){t[this.indexCalc(r,i)]==t[this.indexCalc(r,a)]&&(t[this.indexCalc(r,i)]*=2,e+=t[this.indexCalc(r,i)],t[this.indexCalc(r,a)]=null);break}for(var s=0;s<4;s++)for(var n=0;n<4;n++)if(null==t[this.indexCalc(s,n)])for(var l=n+1;l<4;l++)if(null!=t[this.indexCalc(s,l)]){t[this.indexCalc(s,n)]=t[this.indexCalc(s,l)],t[this.indexCalc(s,l)]=null;break}var o=this.randomNullPostionGen(t);null==o?this.restart():t[o]=2;var c=this.state.history,h=this.state.historyScore;c.push(this.state.grids.slice()),h.push(e),this.setState({grids:t,score:e,history:c,historyScore:h})}},{key:"onRight",value:function(){for(var t=this.state.grids.slice(),e=this.state.score,r=3;r>=0;r--)for(var i=3;i>=0;i--)if(null!=t[this.indexCalc(r,i)])for(var a=i-1;a>=0;a--)if(null!=t[this.indexCalc(r,a)]){t[this.indexCalc(r,i)]==t[this.indexCalc(r,a)]&&(t[this.indexCalc(r,i)]*=2,e+=t[this.indexCalc(r,i)],t[this.indexCalc(r,a)]=null);break}for(var s=3;s>=0;s--)for(var n=3;n>=0;n--)if(null==t[this.indexCalc(s,n)])for(var l=n-1;l>=0;l--)if(null!=t[this.indexCalc(s,l)]){t[this.indexCalc(s,n)]=t[this.indexCalc(s,l)],t[this.indexCalc(s,l)]=null;break}var o=this.randomNullPostionGen(t);null==o?this.restart():t[o]=2;var c=this.state.history,h=this.state.historyScore;c.push(this.state.grids.slice()),h.push(e),this.setState({grids:t,score:e,history:c,historyScore:h})}},{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"game"},a.a.createElement("div",{className:"title-score"},a.a.createElement("div",{className:"title"},"2048"),a.a.createElement("div",{className:"score"},"Score:",this.state.score),a.a.createElement("button",{className:"reset-button",onClick:function(){return t.restart()}},"Restart"),a.a.createElement("button",{className:"undo-button",onClick:function(){return t.undo()}},"\u27f2")),a.a.createElement("div",{className:"board"},a.a.createElement("div",{className:"row"},this.renderGrid(0),this.renderGrid(1),this.renderGrid(2),this.renderGrid(3)),a.a.createElement("div",{className:"row"},this.renderGrid(4),this.renderGrid(5),this.renderGrid(6),this.renderGrid(7)),a.a.createElement("div",{className:"row"},this.renderGrid(8),this.renderGrid(9),this.renderGrid(10),this.renderGrid(11)),a.a.createElement("div",{className:"row"},this.renderGrid(12),this.renderGrid(13),this.renderGrid(14),this.renderGrid(15))),a.a.createElement("div",{className:"controls"},a.a.createElement("div",{className:"row"},a.a.createElement("button",{className:"up btn",onClick:function(){return t.onUp()}},"\u2191")),a.a.createElement("div",{className:"row"},a.a.createElement("button",{className:"left btn",onClick:function(){return t.onLeft()}},"\u2190"),a.a.createElement("button",{className:"down btn",onClick:function(){return t.onDown()}},"\u2193"),a.a.createElement("button",{className:"right btn",onClick:function(){return t.onRight()}},"\u2192"))))}}]),r}(a.a.Component),f=function(){return a.a.createElement("div",{className:"App"},a.a.createElement(u,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.4926256f.chunk.js.map